<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=1024, initial-scale=1.0">
    <title>소민's Homepage</title>
    <link rel="stylesheet" href="css/index.css">
    
</head>
<body>

    <div id="wrapper">
        <header id="header">
            <nav>
                <ul>
                    <li><img src="img/menu.png" style="width : 15%;"></li>
                </ul>
            </nav>
        </header>
        <h1>소민's Homepage</h1>
    </div>





    <script type="text/javascript" src="./js/three/build/three.js"></script>
    
<!--     
    <script type="module">
        import  {Geometry} from './js/three/examples/jsm/deprecated/Geometry.js';
        let scene, camera, renderer,  stars, starGeo;

        function init() {
        //create scene object
        scene = new THREE.Scene();
        
        //setup camera with facing upward
        camera = new THREE.PerspectiveCamera(60,window.innerWidth / window.innerHeight, 1, 1000);
        camera.position.z = 1;
        camera.rotation.x = Math.PI/2;
        
        //setup renderer
        renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        //Three.js remove from core: Three.Geometry가 코어에서 제외됨. 즉 더 이상 랜더링과 THREE.Geometry 지원하지 않음
        //THREE.Geometry 사용하던 사람들은 BufferGeometry로 변경해야함
        //THREE.Geometry는 코어는 코드는 아니지만 examples/jsm/deprecated/Geometry.js에서 글로벌 스크립트가 아닌 es6 모듈로 사용가능
        // starGeo = new Geometry();
        // for(let i=0;i<6000;i++) {
        //     let star = new THREE.Vector3(
        //     Math.random() * 600 - 300,
        //     Math.random() * 600 - 300,
        //     Math.random() * 600 - 300
        //     );
        //     starGeo.vertices.push(star);
        // }
        

        starGeo = new THREE.BufferGeometry();
        for(let i=0;i<6000;i++) {
            var positions = new Float32Array(500*3);
            starGeo.setAttribute('position', new THREE.BufferAttribute(vertices, 3));
        }


        // starGeo = new THREE.BufferGeometry();
        // var vertices = new Float32Array([
        //     new THREE.Vector3(-10, 10, 0),
        //     new THREE.Vector3(-10, -10, 0),
        //     new THREE.Vector3(10, -10, 0)
        // ]);
        // starGeo.setAttribute('position', new THREE.BufferAttribute(vertices, 3));


        let sprite = new THREE.TextureLoader().load('./img/star.png');
        let starMaterial = new THREE.PointsMaterial({
            color: 0xaaaaaa,
            size: 0.7,
            map: sprite
        });       

        stars = new THREE.Points(starGeo,starMaterial);
        scene.add(stars);
        animate(); 

        }

        //rendering loop
        function animate() {
        renderer.render(scene, camera);
        requestAnimationFrame(this.animate.bind(this));

        }
        init();
    </script> -->

    <script>
        // window.innerWidth = 1024;
        var renderer, scene, camera, composer, circle, skelet, particle;
        console.log(window.innerWidth)
        window.onload = function() {
            init();
            animate();
        }

        function init() {
        renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setPixelRatio((window.devicePixelRatio) ? window.devicePixelRatio : 1);
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.autoClear = false;
        renderer.setClearColor(0x000000, 0.0);

        // document.getElementById("wrapper").appendChild(renderer.domElement);
        document.getElementById('wrapper').appendChild(renderer.domElement);
        // document.body.appendChild(renderer.domElement);

        scene = new THREE.Scene();

        camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 1000);
        camera.position.z = 400;
        scene.add(camera);

        particle = new THREE.Object3D();
        scene.add(particle);

        var geometry = new THREE.SphereGeometry(0.5, 30, 30);
        

        var material = new THREE.MeshPhongMaterial({
            color: 0xffffff,
            // shading: THREE.FlatShading
        });

        for (var i = 0; i < 1000; i++) {
            var mesh = new THREE.Mesh(geometry, material);
            mesh.position.set(Math.random() - 0.5, Math.random() - 0.5, Math.random() - 0.5).normalize();
            mesh.position.multiplyScalar(90 + (Math.random() * 700));
            mesh.rotation.set(Math.random() * 2, Math.random() * 2, Math.random() * 2);
            particle.add(mesh);
        }

        var ambientLight = new THREE.AmbientLight(0x999999 );
        scene.add(ambientLight);

        var lights = [];
        lights[0] = new THREE.DirectionalLight( 0xffffff, 1 );
        lights[0].position.set( 1, 0, 0 );
        lights[1] = new THREE.DirectionalLight( 0x11E8BB, 1 );
        lights[1].position.set( 0.75, 1, 0.5 );
        lights[2] = new THREE.DirectionalLight( 0x8200C9, 1 );
        lights[2].position.set( -0.75, -1, 0.5 );
        scene.add( lights[0] );
        scene.add( lights[1] );
        scene.add( lights[2] );

        window.addEventListener('resize', onWindowResize, false);
        };

        function onWindowResize() {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
        }


        function animate() {
        requestAnimationFrame(animate);

        particle.rotation.x += 0.0000;
        particle.rotation.y -= 0.0010;
        particle.rotation.z -= 0.0010;
        
        renderer.clear();

        renderer.render( scene, camera )
        }  

        // function animate() {
        // renderer.render(scene, camera);
        // requestAnimationFrame(this.animate.bind(this));

        // }
    </script>
</body>
</html>